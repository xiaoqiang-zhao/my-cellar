<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>05 封装成函数</title>
</head>

<body>
    <canvas id="canvasId"></canvas>
</body>
<style>
  #canvasId {
    padding: 15px;
    box-sizing: border-box;
    background: #999;
  }
</style>
<script type="text/javascript">
const canvasDom = document.getElementById('canvasId');
const ctx = canvasDom.getContext('2d');

const size = 500;
canvasDom.height = size;
canvasDom.width = size;

drawEllipse(250, 250, 200, 100, '#00f');

/**
 * @param {number} x 圆心 x 坐标
 * @param {number} y 圆心 y 坐标
 * @param {number} xHalfAxis x半轴长度
 * @param {number} yHalfAxis y半轴长度
 * @param {string} color 颜色
 */
function drawEllipse(x, y, xHalfAxis, yHalfAxis, color) {
  const r = xHalfAxis > yHalfAxis ? xHalfAxis : yHalfAxis;
  const ratioX = xHalfAxis / r;
  const ratioY = yHalfAxis / r;

  // 绘制圆
  const ellipse = new Path2D();
  ellipse.arc(x / ratioX, y / ratioY, r, 0, Math.PI * 2, true);

  ctx.save();

  // 变形
  ctx.scale(ratioX, ratioY);
  // 颜色
  ctx.strokeStyle = color || '#fff';
  // 描边
  ctx.stroke(ellipse);

  ctx.restore();
}
</script>
</html>